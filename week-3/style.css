/* Base reset */
*,*::before,*::after{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
  color:#0a0a0a;
  background:linear-gradient(120deg,#7c3aed,#06b6d4,#22c55e,#f97316);
  background-size:300% 300%;
  animation:bgShift 16s ease infinite;
  line-height:1.3;
}
@keyframes bgShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

.wrap{min-height:100dvh;display:grid;place-items:center;padding:24px}
.calc{width:min(96vw,420px);border-radius:22px;background:rgba(255,255,255,0.08);backdrop-filter:blur(16px) saturate(140%);-webkit-backdrop-filter:blur(16px) saturate(140%);border:1px solid rgba(255,255,255,0.25);box-shadow:0 10px 25px rgba(2,8,20,0.12), inset 0 1px 0 rgba(255,255,255,0.2);overflow:hidden;transition:transform .25s ease,box-shadow .25s ease}
.calc:focus-within{transform:translateY(-2px)}
.calc__header{display:flex;align-items:center;justify-content:space-between;padding:16px 18px;background:linear-gradient(180deg,rgba(255,255,255,0.24),rgba(255,255,255,0.06));border-bottom:1px solid rgba(255,255,255,0.25)}
.brand{font-weight:700;letter-spacing:.4px;text-transform:uppercase;font-size:12px;opacity:.85}
.theme-toggle{appearance:none;border:0;background:rgba(255,255,255,0.5);padding:8px 12px;border-radius:999px;font-weight:600;cursor:pointer}

.display{padding:14px 18px 8px;display:grid;gap:6px;background:linear-gradient(180deg,rgba(0,0,0,0.12),rgba(0,0,0,0))}
.display__expr{min-height:24px;font-size:16px;letter-spacing:.4px;color:rgba(255,255,255,0.9);text-align:right;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
.display__value{font-variant-numeric:tabular-nums;font-size:clamp(36px,7vw,48px);font-weight:800;text-align:right;color:#fff}

.keys{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;padding:16px;background:linear-gradient(180deg,rgba(255,255,255,0.06),rgba(255,255,255,0.02));border-top:1px solid rgba(255,255,255,0.2)}
.btn{appearance:none;border:0;padding:14px 12px;border-radius:16px;background:rgba(255,255,255,0.75);font-size:18px;font-weight:700;cursor:pointer;user-select:none;box-shadow:0 6px 16px rgba(2,8,20,0.14);transition:transform .08s ease,filter .2s ease,background .2s ease}
.btn:active{transform:translateY(1px)}
.btn--op{background:rgba(255,255,255,0.9)}
.btn--accent{background:#0ea5e9;color:white;box-shadow:0 8px 18px rgba(14,165,233,0.35)}
.btn--danger{background:#ef4444;color:white;box-shadow:0 8px 18px rgba(239,68,68,0.35)}
.btn--wide{grid-column:span 2}

/* Dark theme adjustments */
.dark .calc{background:rgba(16,16,24,0.55);border-color:rgba(255,255,255,0.08);box-shadow:0 10px 25px rgba(2,8,20,0.45),inset 0 1px 0 rgba(255,255,255,0.06)}
.dark .btn{background:rgba(255,255,255,0.08);color:#f7f7f7}
.dark .btn--op{background:rgba(255,255,255,0.12)}
.dark .btn--accent{background:#22c55e;box-shadow:0 8px 18px rgba(34,197,94,0.35)}
.dark .display__expr{color:rgba(255,255,255,0.75)}

.footer{text-align:center;color:rgba(255,255,255,0.9);font-size:12px;margin-top:14px}
.kbd{padding:2px 6px;border-radius:6px;background:rgba(255,255,255,0.3);font-weight:700}
